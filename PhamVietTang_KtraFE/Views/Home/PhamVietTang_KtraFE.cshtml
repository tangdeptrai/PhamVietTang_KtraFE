<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giỏ Hàng - Tiki Style</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/131e0ec2d1.js" crossorigin="anonymous"></script>
    <style>
        /* General Styles */
        body {
            background-color: #f5f5fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        header {
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            background-color: #fff;
        }

        /* Header Layout */
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Logo */
        .logo {
            display: flex;
            align-items: center;
        }

        .logo img {
            height: 50px;
            width: 50px;
            margin-right: 15px;
        }

        /* Search Box */
        .search-box {
            position: relative;
            width: 100%;
            max-width: 650px;
            flex: 1;
        }

     
        .search-box input {
            width: 100%;
            padding: 10px 40px 10px 40px;
            border: 1px solid #ccc;
            border-radius: 25px;
            outline: none;
            transition: border-color 0.3s;
        }

        .search-box input:focus {
            border-color: #007bff;
        }

        #search_icon {
            position: absolute;
            top: 50%;
            left: 15px;
            transform: translateY(-50%);
            color: #6c757d;
        }

        #search-box-title {
            position: absolute;
            top: 50%;
            left:290px;
            transform: translateY(-50%);
            color: #007bff;
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
            outline-style: groove;
            outline-color: black;
            border: 2px solid white;
            border-radius:25px;
           
        }

        /* Header Icons */
        .header-icons {
            display: flex;
            align-items: center;
        }

        .header-icons .icon {
            text-align: center;
            margin-left: 15px;
        }

        .header-icons .icon a {
            color: #6c757d;
            font-size: 1.2rem;
            transition: color 0.3s;
        }

        .header-icons .icon a:hover {
            color: #007bff;
        }

        .header-icons .icon p {
            margin-top: 5px;
            font-size: 0.9rem;
            color: #333;
        }

        /* Navigation */
        nav {
            background-color: #fff;
            padding: 10px 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        nav .nav-title a {
            margin-right: 15px;
            color: #333;
            font-weight: 500;
            transition: color 0.3s;
            padding: 5px 10px;
            border-radius: 4px;
        }

        nav .nav-title a:hover {
            color: #fff;
            background-color: #007bff;
            text-decoration: none;
        }

        nav .Diachi {
            display: flex;
            align-items: center;
            color: #6c757d;
            font-size: 0.9rem;
        }

        nav .Diachi i {
            margin-right: 5px;
        }

        /* Main Content */
        main {
            padding: 20px;
        }

        /* Section: Giỏ Hàng Title */
        .cart-title {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2rem;
            color: #333;
        }

        /* Cart Items */
        .cart-items {
            display: flex;
            flex-wrap: wrap;
        }

        .section-left {
            flex: 0 0 65%;
            padding-right: 20px;
        }

        .section-right {
            flex: 0 0 35%;
            padding-left: 20px;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        /* Cart Item Box */
        .cart-item {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            transition: box-shadow 0.3s;
        }

        .cart-item:hover {
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .cart-item-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .cart-item-header input {
            margin-right: 10px;
        }

        .cart-item-header i {
            margin-right: 10px;
            color: #007bff;
        }

        .cart-item-header span {
            font-weight: bold;
            color: #333;
        }

        .cart-item-body {
            display: flex;
            align-items: center;
        }

        .cart-item-body img {
            width: 100px;
            height: 100px;
            object-fit: contain;
            margin-right: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-details h5 {
            margin-bottom: 10px;
            color: #333;
            font-size: 1.1rem;
        }

        .cart-item-details .price {
            color: #007bff;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .cart-item-details .quantity {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .cart-item-details .quantity button {
            width: 30px;
            height: 30px;
            border: none;
            background-color: #f0f0f0;
            color: #333;
            font-size: 1.2rem;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
        }

        .cart-item-details .quantity button:hover {
            background-color: #007bff;
            color: #fff;
        }

        .cart-item-details .quantity span {
            margin: 0 10px;
            font-size: 1rem;
            color: #333;
            min-width: 20px;
            text-align: center;
        }

        /* Slider Styling */
        .quantity-slider {
            width: 100%;
            margin-top: 10px;
        }

        /* Cart Item Footer */
        .cart-item-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }

        .cart-item-footer .total-price {
            color: #28a745;
            font-weight: bold;
        }

        .cart-item-footer .remove-item {
            color: #dc3545;
            cursor: pointer;
            transition: color 0.3s;
        }

        .cart-item-footer .remove-item:hover {
            color: #a71d2a;
        }

        /* Sidebar: Price Summary */
        .price-summary {
            padding: 20px;
            position: relative;
        }

        /* Logo in Price Summary */
        .price-summary .summary-logo {
            text-align: center;
            margin-bottom: 20px;
        }

        .price-summary .summary-logo img {
            height: 60px;
            width: auto;
        }

        .price-summary h4 {
            margin-bottom: 20px;
            color: #333;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }

        .price-summary .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 1rem;
            color: #555;
        }

        .price-summary .summary-item.total {
            font-weight: bold;
            color: #333;
            font-size: 1.2rem;
        }

        .price-summary .checkout-btn {
            width: 100%;
            padding: 12px;
            background-color: #ff5722;
            color: #fff;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .price-summary .checkout-btn:hover {
            background-color: #e64a19;
        }

        /* Coupon Section */
        .coupon-section {
            margin-bottom: 20px;
        }

        .coupon-section input {
            width: 70%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            outline: none;
        }

        .coupon-section button {
            padding: 8px 12px;
            margin-left: 10px;
            background-color: #28a745;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .coupon-section button:hover {
            background-color: #218838;
        }

        /* Promotional Banner */
        .promo-banner {
            background-color: #ffeeba;
            padding: 15px;
            border: 1px solid #ffeeba;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .promo-banner p {
            margin: 0;
            color: #856404;
        }

        .promo-banner .close-banner {
            cursor: pointer;
            color: #856404;
            font-size: 1.2rem;
            transition: color 0.3s;
        }

        .promo-banner .close-banner:hover {
            color: #533f03;
        }

        /* Responsive Adjustments */
        media (max-width: 992px) {
            .cart-items {
                flex-direction: column;
            }

            .section-left, .section-right {
                flex: 0 0 100%;
                padding: 0;
            }

            .section-right {
                margin-top: 20px;
            }

            .cart-item-body {
                flex-direction: column;
                align-items: flex-start;
            }

            .cart-item-body img {
                margin-bottom: 15px;
            }

            .price-summary {
                position: static;
                top: auto;
            }

            .header-container {
                flex-direction: column;
                align-items: flex-start;
            }

            .header-icons {
                margin-top: 15px;
            }

            .price-summary .summary-logo img {
                height: auto;
                width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <!-- Header -->
        <header>
            <div class="header-container">
                <!-- Logo -->
                <div class="logo">
                    <a href="##">
                        <!-- Replace the src with your actual logo path -->
                        <img src="~/Content/64e7229d32a50a600f73f17f0.1692869286445.jpg" style="width:100px;" alt="Logo">
                    </a>
                </div>

                <!-- Search Box -->
                <div class="search-box">
                    <i id="search_icon" class="fa-solid fa-magnifying-glass"></i>
                    <input type="search" placeholder="Giao Nhanh 2 giờ" />
                    <a class="d-flex" id="search-box-title" href="##">
                        Tìm Kiếm
                    </a>
                </div>

                <!-- Header Icons -->
                <div class="d-flex header-icons">
                    <div class="icon">
                        <a href="##">
                            <i class="fa-solid fa-house"></i>
                        </a>
                        <p>Trang Chủ</p>
                    </div>

                    <div class="icon">
                        <a href="##">
                            <i class="fa-solid fa-user-astronaut"></i>
                        </a>
                        <p>Astra</p>
                    </div>

                    <div class="icon">
                        <a href="##">
                            <i class="fa-regular fa-face-smile"></i>
                        </a>
                        <p>Tài Khoản</p>
                    </div>

                    <div class="icon">
                        <a href="##">
                            <i class="fa-solid fa-cart-shopping"></i>
                        </a>
                        <p>Giỏ Hàng</p>
                    </div>
                </div>
            </div>

            <!-- Navigation -->
            <nav class="d-flex justify-content-between align-items-center mt-3">
                <div class="nav-title d-flex flex-wrap">
                    <a href="##">Khỏe Đẹp</a>
                    <a href="##">Nhà Cửa</a>
                    <a href="##">Sách</a>
                    <a href="##">Thể Thao</a>
                    <a href="##">Trái Cây</a>
                    <a href="##">Thịt, Trứng</a>
                    <a href="##">Rau Củ Quả</a>
                    <a href="##">Sữa Bơ Phô Mai</a>
                    <a href="##">Hải Sản</a>
                    <a href="##">Gạo, Mì Ăn Liền</a>
                </div>

                <div class="Diachi d-flex align-items-center">
                    <i class="fa-solid fa-location-dot"></i>
                    Giao đến: Q12, P.Hiệp Thành, Hồ Chí Minh
                </div>
            </nav>
        </header>

        <!-- Main Content -->
        <main>
            <section>
                <h1 class="cart-title">Giỏ Hàng</h1>
            </section>

            <!-- Promotional Banner -->
            <section>
                <div class="promo-banner d-flex justify-content-between align-items-center">
                    <p>Giảm giá 10% khi mua hàng từ 5 sản phẩm!</p>
                    <span class="close-banner" onclick="this.parentElement.style.display='none';">&times;</span>
                </div>
            </section>

            <section class="cart-items d-flex">
                <!-- Left Section: Cart Items -->
                <div class="section-left">
                    <!-- Select All & Bulk Actions -->
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="selectAll">
                            <label class="form-check-label" for="selectAll">
                                Tất cả
                            </label>
                        </div>
                        <div>
                            <button class="btn btn-outline-danger btn-sm" onclick="removeSelectedItems()">
                                <i class="fa-solid fa-trash-can"></i> Xóa chọn
                            </button>
                        </div>
                    </div>

                    <!-- Cart Item 1 -->
                    <div class="cart-item">
                        <div class="cart-item-header">
                            <input type="checkbox" class="select-item">
                            <i class="fa-solid fa-store"></i>
                            <span>Gia Dụng Việt</span>
                        </div>
                        <div class="cart-item-body">
                            <img src="~/Content/samsung-galaxy-a54-5g-tim-thumb-1-600x600.jpg"   alt="Sản phẩm">
                            <div class="cart-item-details">
                                <h5>Điện thoại Samsung A54 5G (8/128GB)</h5>
                                <div class="price">8.480.000₫</div>
                                <div class="quantity">
                                    <button onclick="decreaseQuantity(this)">-</button>
                                    <span>1</span>
                                    <button onclick="increaseQuantity(this)">+</button>
                                </div>
                                <!-- Slider for Quantity -->
                                <input type="range" min="1" max="100" value="1" class="quantity-slider" oninput="syncQuantity(this)">
                                <div class="total-price">8.480.000₫</div>
                            </div>
                        </div>
                        <div class="cart-item-footer">
                            <span class="total-price">Tổng: 8.480.000₫</span>
                            <span class="remove-item" onclick="removeItem(this)">
                                <i class="fa-solid fa-trash-can"></i>
                            </span>
                        </div>
                    </div>

                    <!-- Cart Item 2 -->
                    <div class="cart-item">
                        <div class="cart-item-header">
                            <input type="checkbox" class="select-item">
                            <i class="fa-solid fa-store"></i>
                            <span>Tiki Trading</span>
                        </div>
                        <div class="cart-item-body">
                            <img src="~/Content/samsung-galaxy-a54-5g-tim-thumb-1-600x600.jpg"   alt="Sản phẩm">
                            <div class="cart-item-details">
                                <h5>Điện thoại Samsung A54 5G (8/256GB)</h5>
                                <div class="price">8.990.000₫</div>
                                <div class="quantity">
                                    <button onclick="decreaseQuantity(this)">-</button>
                                    <span>1</span>
                                    <button onclick="increaseQuantity(this)">+</button>
                                </div>
                                <!-- Slider for Quantity -->
                                <input type="range" min="1" max="100" value="1" class="quantity-slider" oninput="syncQuantity(this)">
                                <div class="total-price">8.990.000₫</div>
                            </div>
                        </div>
                        <div class="cart-item-footer">
                            <span class="total-price">Tổng: 8.990.000₫</span>
                            <span class="remove-item" onclick="removeItem(this)">
                                <i class="fa-solid fa-trash-can"></i>
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Right Section: Price Summary -->
                <div class="section-right">
                    <div class="price-summary">
                        <h4>Tổng Tiền</h4>
                        <!-- Logo in Price Summary -->
                        <div class="summary-logo">
                            <a href="##">
                                <!-- Replace the src with your actual logo path -->
                                <img src="~/Content/Screenshot 2024-10-08 200432.png" style="width:300px; height:auto;" alt="Logo">
                            </a>
                        </div>
                     

                        <!-- Coupon Section -->
                        <div class="coupon-section">
                            <input type="text" id="couponCode" placeholder="Nhập mã giảm giá" />
                            <button onclick="applyCoupon()">Áp dụng</button>
                        </div>
                        <!-- Price Details -->
                        <div class="summary-item">
                            <span>Tạm tính:</span>
                            <span id="tamtinh">17.400.000₫</span>
                        </div>
                        <div class="summary-item">
                            <span>Phí vận chuyển:</span>
                            <span>Miễn phí</span>
                        </div>
                        <div class="summary-item total">
                            <span>Tổng cộng:</span>
                            <span id="tongtien">17.400.000₫</span>
                        </div>
                        <button class="checkout-btn">Mua Hàng (2)</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- JavaScript -->
    <script>
        // Quantity Adjustment Functions
        function increaseQuantity(button) {
            const quantitySpan = button.previousElementSibling;
            let quantity = parseInt(quantitySpan.textContent);
            quantity++;
            quantitySpan.textContent = quantity;

            // Update the slider
            const cartItem = button.closest('.cart-item');
            const slider = cartItem.querySelector('.quantity-slider');
            slider.value = quantity;

            updateTotalPrice(button);
            updateSummary();
        }

        function decreaseQuantity(button) {
            const quantitySpan = button.nextElementSibling;
            let quantity = parseInt(quantitySpan.textContent);
            if (quantity > 1) {
                quantity--;
                quantitySpan.textContent = quantity;

                // Update the slider
                const cartItem = button.closest('.cart-item');
                const slider = cartItem.querySelector('.quantity-slider');
                slider.value = quantity;

                updateTotalPrice(button);
                updateSummary();
            }
        }

        // Synchronize Slider with Quantity
        function syncQuantity(slider) {
            const cartItem = slider.closest('.cart-item');
            const quantitySpan = cartItem.querySelector('.quantity span');
            quantitySpan.textContent = slider.value;

            updateTotalPriceFromSlider(slider);
            updateSummary();
        }

        // Update Total Price for a Cart Item based on Slider
        function updateTotalPriceFromSlider(slider) {
            const cartItem = slider.closest('.cart-item');
            const priceText = cartItem.querySelector('.price').textContent;
            const price = parseInt(priceText.replace(/\./g, '').replace('₫', ''));
            const quantity = parseInt(slider.value);
            const totalPrice = price * quantity;
            cartItem.querySelector('.total-price').textContent = formatCurrency(totalPrice);
        }

        // Update Total Price for a Cart Item
        function updateTotalPrice(button) {
            const cartItem = button.closest('.cart-item');
            const priceText = cartItem.querySelector('.price').textContent;
            const price = parseInt(priceText.replace(/\./g, '').replace('₫', ''));
            const quantity = parseInt(cartItem.querySelector('.quantity span').textContent);
            const totalPrice = price * quantity;
            cartItem.querySelector('.total-price').textContent = formatCurrency(totalPrice);
        }

        // Format Number as Currency
        function formatCurrency(number) {
            return number.toLocaleString('vi-VN') + '₫';
        }

        // Remove Cart Item
        function removeItem(icon) {
            const cartItem = icon.closest('.cart-item');
            cartItem.remove();
            updateSummary();
        }

        // Select All Functionality
        const selectAllCheckbox = document.getElementById('selectAll');
        const selectItemCheckboxes = document.querySelectorAll('.select-item');

        selectAllCheckbox.addEventListener('change', function () {
            selectItemCheckboxes.forEach(checkbox => {
                checkbox.checked = selectAllCheckbox.checked;
            });
            updateSummary();
        });

        // Remove Selected Items
        function removeSelectedItems() {
            selectItemCheckboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const cartItem = checkbox.closest('.cart-item');
                    cartItem.remove();
                }
            });
            selectAllCheckbox.checked = false;
            updateSummary();
        }

        // Apply Coupon Code
        function applyCoupon() {
            const couponInput = document.getElementById('couponCode');
            const couponCode = couponInput.value.trim().toUpperCase();
            let discount = 0;
            let message = '';

            // Example coupon logic
            if (couponCode === 'GIAM10') {
                discount = parseInt(document.getElementById('tamtinh').textContent.replace(/\./g, '').replace('₫', '')) * 0.10;
                message = 'Bạn đã được giảm giá 10%!';
            } else if (couponCode === 'FREESHIP') {
                discount = 0;
                message = 'Bạn đã được miễn phí vận chuyển!';
            } else {
                discount = 0;
                message = 'Mã giảm giá không hợp lệ.';
            }

            if (discount > 0) {
                let tamtinh = parseInt(document.getElementById('tamtinh').textContent.replace(/\./g, '').replace('₫', ''));
                tamtinh -= discount;
                document.getElementById('tamtinh').textContent = formatCurrency(tamtinh);
                document.getElementById('tongtien').textContent = formatCurrency(tamtinh);
            }

            alert(message);
            couponInput.value = '';
        }

        // Update Summary
        function updateSummary() {
            let total = 0;
            let count = 0;
            selectItemCheckboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const cartItem = checkbox.closest('.cart-item');
                    const itemTotal = parseInt(cartItem.querySelector('.total-price').textContent.replace(/\./g, '').replace('₫', ''));
                    total += itemTotal;
                    count++;
                }
            });
            document.getElementById('tamtinh').textContent = formatCurrency(total);
            document.getElementById('tongtien').textContent = formatCurrency(total);
            document.querySelector('.checkout-btn').textContent = `Mua Hàng (${count})`;
        }

        // Event Listeners for Individual Checkboxes
        selectItemCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function () {
                if (!this.checked) {
                    selectAllCheckbox.checked = false;
                } else if (document.querySelectorAll('.select-item:checked').length === selectItemCheckboxes.length) {
                    selectAllCheckbox.checked = true;
                }
                updateSummary();
            });
        });

        // Initial Summary Update
        updateSummary();
    </script>
</body>
</html>
